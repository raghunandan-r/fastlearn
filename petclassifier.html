---
title: 1. Dog/Cat Pet classifier
layout: page
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cat or Dog predictor</title>
    <link rel="stylesheet" href="https://unpkg.com/mvp.css">
  </head>
  <body>    
    <header>
        <h1>Predict a dog or cat from an image</h1>
        <p>Model provided by <a href="https://github.com/fastai/fastai">fastai</a> and api hosted by <a href="https://raghudan-fastlearn.hf.space/run/predict" target="_blank">hugging face</a>
        </p>
        <a href="https://github.com/raghunandan-r/fastlearn" target="_blank">Github Repo</a>
    </header>
    <main>
        <header>
            <h2>Submit a picture of either a cat or dog</h2>            
        </header>
        <section>
            <p id="prediction"></p>
        </section>
    </main>

      <script>
        async function loaded(reader) {
          const response = await fetch("https://raghudan-fastlearn.hf.space/run/predict",{
                                        method : "POST", body:JSON.stringify({"data":[reader.result]}),
                                        headers : {"Content-Type":"application/json"}                                  
                                       });
          const json = await response.json();
          const label = json['data'][0]['confidences'][0]['label'];
          prediction.innerHTML = `<br/><img src="${reader.result}" width="300"> <p>${label}</p>`
        }
        function read() {
          const reader = new FileReader();
          reader.addEventListener('load', () => loaded(reader))
          reader.readAsDataURL(photo.files[0]);
        }
        photo.addEventListener('input', read);
      </script>
  </body>
</html>
